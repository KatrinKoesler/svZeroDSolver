variables:
  - Pin
  - Qin
  - Pout
  - Qout
  - radius
  - velo
  - stress
  - tau
  - volume
  - e_c
  - tau_c
  - k_c
  - omega

derivatives:
  - dPin_dt
  - dQin_dt
  - dPout_dt
  - dQout_dt
  - dradius_dt
  - dvelo_dt
  - dstress_dt
  - dtau_dt
  - dvolume_dt
  - de_c_dt
  - dtau_c_dt
  - dk_c_dt
  - domega_dt

constants:
  - rho
  - thick0
  - radius0
  - W1
  - W2
  - eta
  - E_s
  - mu
  - alpha_r
  - alpha
  - k_0
  - sigma_0
  - m_0
  - n_0
  - u_plus
  - u_minus

time_dependent:
  - u_plus 
  - u_minus

strain_dependent:
  - m_0
  - n_0

helper_functions: |
  def CG(radius):
      return (1 + (radius / radius0)) ** 2

  def dCG(radius, dradius_dt):
      return 2 * (1 + (radius / radius0)) * (1 / radius0) * dradius_dt

# omitted strain dependency of m_0 and n_0 -> will be added in ChamberSphere_StrainDepActStress Block
residuals:
  - rho * thick0 * dvelo_dt + (thick0 / radius0) * (1 + (radius / radius0)) * stress - Pout * CG(radius)
  - -stress + tau + 4 * (1 - CG(radius) ** -3) * (W1 + CG(radius) * W2) + 2 * eta * dCG(radius, dradius_dt) * (1 - 2 * CG(radius) ** -6)
  - 4 * pi * radius0 ** 2 * CG(radius) * velo - dvolume_dt
  - dradius_dt - velo
  - Qin - Qout - dvolume_dt
  - Pin - Pout
  - -tau + E_s * ((radius - radius0)/radius0 +0.5 * ((radius - radius0) / radius0) ** 2 - e_c) / ((1 + 2 * e_c) ** 2) 
  - -alpha_r * domega_dt + m_0 - omega
  - -tau_c - mu * de_c_dt + E_s * (((radius - radius0)/radius0 +0.5 * ((radius - radius0) / radius0) ** 2 - e_c) * (1 + 2 * (radius - radius0)/radius0 +0.5 * ((radius - radius0) / radius0) ** 2)) / ((1 + 2 * e_c) ** 3)
  - -dk_c_dt - (u_plus + omega * u_minus + alpha * de_c_dt) * k_c + n_0 * k_0 * u_plus
  - -dtau_c_dt - (u_plus + omega * u_minus + alpha * de_c_dt) * tau_c + n_0 * sigma_0 * u_plus + k_c * de_c_dt